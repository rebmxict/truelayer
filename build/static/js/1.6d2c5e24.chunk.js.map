{"version":3,"sources":["components/dashboard/index.js"],"names":["useStyles","makeStyles","theme","root","paddingTop","spacing","paddingBottom","body","marginTop","width","bodyContainer","padding","flexGrow","breakpoints","down","overflow","results","originalImg","cursor","border","rectangle","position","Dashboard","classes","dispatch","useDispatch","code","parse","window","location","search","ignoreQueryPrefix","useState","accessToken","setAccessToken","useEffect","data","redirect_uri","config","method","url","server_url","headers","axios","then","response","access_token","catch","error","console","log","initResource","maxWidth","className","container","style"],"mappings":"kPAaMA,EAAYC,aAAW,SAACC,GAAD,MAAY,CACvCC,KAAM,CACJC,WAAYF,EAAMG,QAAQ,GAC1BC,cAAeJ,EAAMG,QAAQ,IAE/BE,KAAM,CACJC,UAAW,OACXC,MAAO,SAETC,cAAc,aACZC,QAAS,OACTC,SAAU,GACTV,EAAMW,YAAYC,KAAK,MAAQ,CAC9BC,SAAU,WAGdC,QAAS,CACPR,UAAWN,EAAMG,QAAQ,IAE3BY,YAAa,CAGXC,OAAQ,YACRC,OAAQ,uBAEVC,UAAW,CACTD,OAAQ,oBACRE,SAAU,gBA8DCC,UA1Df,WAAsB,IAAD,EACbC,EAAUvB,IACVwB,EAAWC,cAEXC,EAAI,UAAGC,gBAAMC,OAAOC,SAASC,OAAQ,CAAEC,mBAAmB,WAAtD,aAAG,EAA4DL,KAGzE,EAAsCM,mBAAS,IAA/C,mBAAOC,EAAP,KAAoBC,EAApB,KAsCA,OApCAC,qBAAU,WACR,GAAIT,EAAM,CACR,IAAMU,EAAO,CACX,WAAc,qBACd,UAAa,oBACb,cAAiB,uCACjB,aAAgBC,IAChB,KAAQX,GAGJY,EAAS,CACbC,OAAQ,OACRC,IAAI,GAAD,OAAKC,IAAL,kBACHL,OACAM,QAAS,CACP,eAAgB,qBAIpBC,IAAML,GACLM,MAAK,SAAUC,GACd,IAAQC,EAAiBD,EAAST,KAA1BU,aACRZ,EAAeY,MAEhBC,OAAM,SAAUC,GACfC,QAAQC,IAAIF,MAIZf,GACFT,EAAS2B,YAAa,CAAElB,mBAIzB,CAACP,EAAMO,IAGR,kBAAC,IAAD,CAAWmB,UAAU,EAAOC,UAAW9B,EAAQpB,MAC7C,kBAAC,IAAD,CAAWiD,SAAS,KAAKC,UAAW9B,EAAQhB,MAC1C,kBAAC,IAAD,CAAO8C,UAAW9B,EAAQb,eACxB,kBAAC,IAAD,CAAM4C,WAAS,EAACjD,QAAS,GACvB,wBAAIkD,MAAO,CAAC5C,QAAS,SAArB","file":"static/js/1.6d2c5e24.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/styles';\nimport {\n  Container,\n  Paper,\n  Grid,\n} from '@material-ui/core';\nimport { parse } from 'qs';\nimport axios from 'axios';\nimport { useDispatch } from 'react-redux';\nimport { initResource } from 'src/actions/resourceActions';\nimport { server_url, redirect_uri } from 'src/current-env';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    paddingTop: theme.spacing(3),\n    paddingBottom: theme.spacing(3),\n  },\n  body: {\n    marginTop: '10px',\n    width: '950px',\n  },\n  bodyContainer: {\n    padding: '15px',\n    flexGrow: 1,\n    [theme.breakpoints.down('xs')]: {\n      overflow: 'scroll',\n    }\n  },\n  results: {\n    marginTop: theme.spacing(2),\n  },\n  originalImg: {\n    // width: '100%',\n    // height: '100%',\n    cursor: 'crosshair',\n    border: '1px solid lightgray',\n  },\n  rectangle: {\n    border: '1px solid #FF0000',\n    position: 'absolute'\n  }\n}));\n\nfunction Dashboard() {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n\n  const code = parse(window.location.search, { ignoreQueryPrefix: true })?.code;\n  // const accessToken = 'eyJhbGciOiJSUzI1NiIsImtpZCI6IjE0NTk4OUIwNTdDOUMzMzg0MDc4MDBBOEJBNkNCOUZFQjMzRTk1MTBSUzI1NiIsInR5cCI6ImF0K2p3dCIsIng1dCI6IkZGbUpzRmZKd3poQWVBQ291bXk1X3JNLWxSQSJ9.eyJuYmYiOjE2MjAzNjc1NjMsImV4cCI6MTYyMDM3MTE2MywiaXNzIjoiaHR0cHM6Ly9hdXRoLnRydWVsYXllci5jb20iLCJhdWQiOiJkYXRhX2FwaSIsImNsaWVudF9pZCI6InJpb2VwaHJhaW0tOTg4OTViIiwic3ViIjoiY1puSER3VFA3N2pDMWNjYll4MWJudWhkZUhiMjlhQTYyQUgxM1BxMHNzcz0iLCJhdXRoX3RpbWUiOjE2MjAzNjc1NTAsImlkcCI6ImxvY2FsIiwianRpIjoiMDFBNTA2MUZCM0EwMDA3QzUyRjc4MEVGMzcwM0Q0RTciLCJzaWQiOiJhdXRoLUFYbUZkaVk0SnZ0cUYwRGRwaTQxN1VYSVFVdU1CQVVoLUROV1V2Q2JyQ3MiLCJpYXQiOjE2MjAzNjc1NjMsImNvbm5lY3Rvcl9pZCI6Im1vY2siLCJjcmVkZW50aWFsc19rZXkiOiJiMjQyZmY1ZTlkYjc2ZmU2NzhiMTNhZTkxMTZkYTljZWIzM2U5NDA0NjRmNTI1MjQ3MDQ5NWY5YmU0NDYxMWFiIiwicHJpdmFjeV9wb2xpY3kiOiJGZWIyMDE5IiwiY29uc2VudF9pZCI6IjMwN2NlOWZlLWE4OTMtNGExYi05MWZjLTdiZmViODYxNTM2OSIsInNjb3BlIjpbImluZm8iLCJhY2NvdW50cyIsImJhbGFuY2UiLCJjYXJkcyIsInRyYW5zYWN0aW9ucyIsImRpcmVjdF9kZWJpdHMiLCJzdGFuZGluZ19vcmRlcnMiLCJvZmZsaW5lX2FjY2VzcyJdLCJhbXIiOlsicHdkIl19.Yy-8fRbMpmiG2PyBqYn_dwm-v3k8XoCiy0MYrovjnFiXebk_KrUuGB7UAqKHhD4WP4FaKzpJmsNZZietRXWCdszF_sxqqGcUQl2jrwO4Ev3KQqX4Ar0novH-cps4riVsl6E4r-d5e1NNhuq_fuksTQJXyRUlaOssnQNE5hea9VIBJgt1f8GAbH7GfZ9kRpKuoNo781Y_XZuPAXvhL4h78Xmh8q7pXktRH_FClrlUxKG3hFY2Y6Zd55ZKbYTCDiltiKlpmHlDmVvUNm78BcMdWUDkNpWWiwM4M7s3NBbAvOpAns8To9H8nXu5MK7Uabp2C_7YEAfOJ7H_15yIoxT2JA';\n\n  const [accessToken, setAccessToken] = useState('');\n\n  useEffect(() => {\n    if (code) {\n      const data = {\n        'grant_type': 'authorization_code',\n        'client_id': 'rioephraim-98895b',\n        'client_secret': '9dc8561d-c8f2-476c-978e-d08f84a54bfb',\n        'redirect_uri': redirect_uri,\n        'code': code\n      };\n\n      const config = {\n        method: 'post',\n        url: `${server_url}/authtruelayer`,\n        data,\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      };\n      \n      axios(config)\n      .then(function (response) {\n        const { access_token } = response.data;\n        setAccessToken(access_token);\n      })\n      .catch(function (error) {\n        console.log(error);\n      });\n    }\n\n    if (accessToken) {\n      dispatch(initResource({ accessToken }));\n    }\n    \n    // eslint-disable-next-line\n  }, [code, accessToken]);\n\n  return (\n    <Container maxWidth={false} className={classes.root}>\n      <Container maxWidth=\"lg\" className={classes.body}>\n        <Paper className={classes.bodyContainer}>\n          <Grid container spacing={2}>\n            <h1 style={{padding: '15px'}}>Connect Your Bank</h1>\n          </Grid>\n        </Paper>\n      </Container>\n    </Container>\n  );\n}\n\nexport default Dashboard;\n"],"sourceRoot":""}